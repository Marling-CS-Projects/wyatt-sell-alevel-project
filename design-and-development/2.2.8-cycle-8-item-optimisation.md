# 2.2.8 Cycle 8: Item collection

## Design

### Objectives

In this cycle, I will aim to allow picking up and dropping items, and a simple interface for players to see and interact with their items. I will also need to optimise item rendering, as loading all items to the screen causes significant performance issues (see [cycle-1-4.md](cycle-1-4.md "mention")). I hope to have a button to use the item, and a button to drop it. Coming within range of an item will trigger a "Pick up" button at the bottom of the screen, which will give an error if the user's inventory is full

* [ ] Item inventory interface, with a list of items, and a description on each items individual page.
  * [ ] A drop button which removes the item from the players inventory and adds it to the map
  * [ ] A use button which triggers an items power (currently non-functional)
* [ ] A "Pick up" item button which appears when an item is within range, and adds the item to the inventory, while removing it from the map.
* [ ] Optimise item loading - potentially so players can only see items within a certain radius

### Usability

* If the user's inventory is full, the "Pick Up" button will appear red, with an error notification appearing if its clicked.
* An item's "use" button should be customised depending on its function - i.e. a GPS Jammer item would have the use button say "JAM GPS"
* Make a blurry or otherwise interesting border around the player's item visibility range, to indicate that their may be more items beyond said boundary

### Key Variables

| Variable name | Use                                                                     |
| ------------- | ----------------------------------------------------------------------- |
| player.items  | A list which stores all items a player currently has in their inventory |
| items         | A list which stores all items currently on the map                      |

### Pseudocode

```
subroutine pickup_item(item, player)
    remove item from items array
    add item to player.items array
    send updated items to all players of same player.type
    send item_pickup message to player
end subroutine

subroutine drop_item(item, player)
    remove item from player.items array
    add item to items array
    send updated items to all players of same player.type
    send item_dropped message to player    
end subroutine
```

### UI Mockup

<figure><img src="../.gitbook/assets/image (1).png" alt=""><figcaption><p>From Left to Right: A "Pick up" button (green when inventory space, red when full). A example inventory, with 2/6 empty slots. A GPS Jammer screen with a description, Jam and Drop button.</p></figcaption></figure>

## Development

